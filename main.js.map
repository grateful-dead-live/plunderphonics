{"version":3,"sources":["webpack:///./node_modules/n3/lib sync ^\\.\\/N3.*$","webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/app.component.css","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/dead-api.service.ts","webpack:///./src/app/dead-feature.service.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts","webpack:///vertx (ignored)"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["var map = {\n\t\"./N3Lexer\": \"./node_modules/n3/lib/N3Lexer.js\",\n\t\"./N3Lexer.js\": \"./node_modules/n3/lib/N3Lexer.js\",\n\t\"./N3Parser\": \"./node_modules/n3/lib/N3Parser.js\",\n\t\"./N3Parser.js\": \"./node_modules/n3/lib/N3Parser.js\",\n\t\"./N3Store\": \"./node_modules/n3/lib/N3Store.js\",\n\t\"./N3Store.js\": \"./node_modules/n3/lib/N3Store.js\",\n\t\"./N3StreamParser\": \"./node_modules/n3/lib/N3StreamParser.js\",\n\t\"./N3StreamParser.js\": \"./node_modules/n3/lib/N3StreamParser.js\",\n\t\"./N3StreamWriter\": \"./node_modules/n3/lib/N3StreamWriter.js\",\n\t\"./N3StreamWriter.js\": \"./node_modules/n3/lib/N3StreamWriter.js\",\n\t\"./N3Util\": \"./node_modules/n3/lib/N3Util.js\",\n\t\"./N3Util.js\": \"./node_modules/n3/lib/N3Util.js\",\n\t\"./N3Writer\": \"./node_modules/n3/lib/N3Writer.js\",\n\t\"./N3Writer.js\": \"./node_modules/n3/lib/N3Writer.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./node_modules/n3/lib sync recursive ^\\\\.\\\\/N3.*$\";","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","module.exports = \"\"","module.exports = \"<br>\\n<h1>{{ SONGNAME }}</h1>\\n<div class=\\\"images\\\">\\n  <span class=\\\"z-depth image\\\" flex=\\\"50\\\"\\n      [hidden]=\\\"!currentImages[0]\\\" [@fade]=\\\"imageStates[0]\\\">\\n    <h2>{{ currentCaptions[0] }}</h2>\\n    <img *ngFor=\\\"let i of currentImages[0]\\\" [src]=\\\"i\\\" />\\n  </span>\\n  <span class=\\\"z-depth image\\\" flex=\\\"50\\\"\\n      [hidden]=\\\"!currentImages[1]\\\" [@fade]=\\\"imageStates[1]\\\">\\n    <h2>{{ currentCaptions[1] }}</h2>\\n    <img *ngFor=\\\"let i of currentImages[1]\\\" [src]=\\\"i\\\" />\\n  </span>\\n</div>\"","import * as _ from 'lodash';\nimport { Component, OnInit } from '@angular/core';\nimport { DeadApiService, API_URL } from './dead-api.service';\nimport { DeadFeatureService } from './dead-feature.service';\nimport { AutoDj, DecisionType, TransitionType } from 'auto-dj';\nimport { trigger, style, animate, transition, state } from '@angular/animations';\n\nconst TEST = ['https://images-na.ssl-images-amazon.com/images/I/91PMUsUyKzL._SL1500_.jpg',\n'https://images.fineartamerica.com/images-medium-large-5/grateful-dead-fantasy-amanda-paul.jpg',\n'https://i.ebayimg.com/images/g/alAAAOSw4A5Y2eI9/s-l300.jpg'\n]\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css'],\n  animations: [\n    trigger('fade', [\n      state('in', style({ 'opacity': '1' })),\n      state('out', style({ 'opacity': '0' })),\n      transition('* <=> *', [\n        animate(2000)\n      ])\n    ])\n  ]\n})\nexport class AppComponent implements OnInit {\n\n  private SONGNAME = 'Goodlovin';\n  private COUNT = 50;\n  private SKIP = 3;\n  private audioUris: string[];\n  private dj: AutoDj;\n  protected currentImages: string[][] = [null, null];\n  protected currentCaptions: string[] = ['', ''];\n  protected imageStates: string[] = ['out', 'in']\n  protected currentImagesIndex = 0;\n\n  constructor(private apiService: DeadApiService,\n      featureService: DeadFeatureService) {\n    this.dj = new AutoDj(featureService, DecisionType.Default, undefined,\n      TransitionType.Beatmatch);\n  }\n\n  async ngOnInit() {\n    await this.dj.isReady();\n    const song = _.toLower(this.SONGNAME).split(' ').join('');\n    this.audioUris = (await this.apiService.getDiachronicVersionsAudio(song, this.COUNT, this.SKIP));\n    this.audioUris = this.audioUris.map(a =>\n      encodeURI(API_URL+'audiochunk?filename='+a));\n    this.dj.playDjSet(this.audioUris, 12, true); //bars per song, cue point auto*/\n    this.dj.getTransitionObservable().subscribe(transition => {\n      if (transition && transition.names) {\n        this.nextImage(transition.names[0]);\n      }\n    });\n  }\n\n  async nextImage(audioUri: string) {\n    const info = await this.apiService.getEventInfo(audioUri);\n    let infoStrings = [info['date']];\n    if (info['venue']) infoStrings.push(info['venue']);\n    if (info['location']) infoStrings.push(info['location']);\n    const i = this.currentImagesIndex % 2;\n    this.currentCaptions[i] = infoStrings.join(', ');\n    this.currentImages[i] = info['images'] ? info['images'].slice(0,3) : undefined;\n    setTimeout(() => this.toggleState(), 1000); //images take time to load!\n  }\n\n  toggleState() {\n    this.imageStates.forEach((s,i) => this.imageStates[i] = s === 'in' ? 'out' : 'in');\n    this.currentImagesIndex++;\n  }\n\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\n\nimport { AppComponent } from './app.component';\nimport { DeadApiService } from './dead-api.service';\nimport { DeadFeatureService } from './dead-feature.service';\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule,\n    BrowserAnimationsModule\n  ],\n  providers: [DeadApiService, DeadFeatureService],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { Injectable } from '@angular/core';\r\n\r\nexport interface DeadEvent {\r\n  id: string,\r\n  date: string,\r\n  location: string\r\n}\r\n\r\nexport const API_URL = \"https://grateful-dead-api.herokuapp.com/\";//\"http://localhost:8060/\";\r\n\r\n@Injectable()\r\nexport class DeadApiService {\r\n\r\n  constructor() {}\r\n\r\n  async getEvents(): Promise<DeadEvent[]> {\r\n    return this.getJsonFromApi('events');\r\n  }\r\n\r\n  async getVenue(eventId: string): Promise<string> {\r\n    return this.getJsonFromApi('venue?event='+encodeURIComponent(eventId));\r\n  }\r\n\r\n  async getPosters(eventId: string): Promise<string> {\r\n    return this.getJsonFromApi('posters?event='+encodeURIComponent(eventId));\r\n  }\r\n\r\n  getTickets(eventId: string): Promise<string> {\r\n    return this.getJsonFromApi('tickets?event='+encodeURIComponent(eventId));\r\n  }\r\n\r\n  getLocation(eventId: string): Promise<string> {\r\n    return this.getJsonFromApi('location?event='+encodeURIComponent(eventId));\r\n  }\r\n\r\n  getWeather(eventId: string): Promise<string> {\r\n    return this.getJsonFromApi('weather?event='+encodeURIComponent(eventId));\r\n  }\r\n\r\n  getSetlist(eventId: string): Promise<string[]> {\r\n    return this.getJsonFromApi('setlist?event='+encodeURIComponent(eventId));\r\n  }\r\n\r\n  getRecordings(eventId: string): Promise<string[]> {\r\n    return this.getJsonFromApi('recordings?event='+encodeURIComponent(eventId));\r\n  }\r\n\r\n  getPerformers(eventId: string): Promise<{}[]> {\r\n    return this.getJsonFromApi('performers?event='+encodeURIComponent(eventId));\r\n  }\r\n\r\n  getEtreeInfo(recordingId: string): Promise<{}> {\r\n    return this.getJsonFromApi('etreeinfo?recording='+encodeURIComponent(recordingId));\r\n  }\r\n\r\n  getFeatureSummary(audioUri: string): Promise<{}> {\r\n    return this.getJsonFromApi('featuresummary?audiouri='+encodeURIComponent(audioUri));\r\n  }\r\n\r\n  getDiachronicVersionsAudio(songName: string, count = 100, skip = 0): Promise<string[]> {\r\n    return this.getJsonFromApi('diachronic?songname='+encodeURIComponent(songName)\r\n      +\"&count=\"+count+\"&skip=\"+skip);\r\n  }\r\n\r\n  getEventInfo(audioUri: string): Promise<string[]> {\r\n    return this.getJsonFromApi('eventinfo?audiouri='+encodeURIComponent(audioUri));\r\n  }\r\n\r\n  getJsonFromApi(path: string): Promise<any> {\r\n    return fetch(API_URL+path)\r\n      .then(r => r.text())\r\n      .then(t => JSON.parse(t))\r\n      .catch(e => console.log(e));\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\nimport { FeatureService } from 'auto-dj';\nimport { DeadApiService } from './dead-api.service';\n\n@Injectable()\nexport class DeadFeatureService implements FeatureService {\n\n  private features = new Map<string, {}>();\n\n  constructor(private apiService: DeadApiService) {}\n\n  async getBeats(audioUri: string) {\n    return (await this.getFeatures(audioUri))[\"beats\"];\n  }\n\n  async getKeys(audioUri: string) {\n    return (await this.getFeatures(audioUri))[\"key\"];\n  }\n\n  async getLoudnesses(audioUri: string) {\n    return (await this.getFeatures(audioUri))[\"loudness\"];\n  }\n\n  private async getFeatures(audioUri: string): Promise<{}> {\n    if (!this.features.has(audioUri)) {\n      this.features.set(audioUri, await this.apiService.getFeatureSummary(audioUri));\n    }\n    return this.features.get(audioUri);\n  }\n\n}","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n\n","/* (ignored) */"],"sourceRoot":""}